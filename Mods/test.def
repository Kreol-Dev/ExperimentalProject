locations_filler =
{
	scope = space.fit(places = 0)
	utility = 1
	action = 
	{
		space = 
		{
			size = 5
			repeat(random(1,4)) = 
			{
				generate(loc) = 
				{
					entity = 
					{
						on_destruction = 
						{
							entity.space_marker.current_space.detach = place
						}
					}
					place = 
					{
						size = random(1, 3)
					}
					named = 
					{
						set("main_name", "_1") = "Location of " + random_name 
					}
				}

				attach = loc.place
			}
		}
	}
}

named_ui = 
{
	scope = ui_object.fit(showed_object.fit(has(named)) and not has(named_ui_marker))
	utility = 1 
	action = 
	{
		create = named_ui_marker
		create = text_field
		text_field = 
		{
			set = root.ui_object.showed_object.named.get("main_name")
		}
	}
}

agents_pool_filler = {
	scope = place.generate_marker.fit(agents = 0)
	utility = 1
	action = {
		place = {
			size = 5
			repeat(random(1,4)) = {
				generate(ag) = {
					entity = {
						on_destruction = {
							entity.place_marker.current_place.detach = agent
						}
					}
					agent = yes
					human = {
						age = random(20, 45)
					}
					named = {
						set("main_name", "_1") = random_name
					}
				}

				attach = ag.agent
			}
		}
	}
}

location_event = {
	scope = place.fit(not has(event_marker))
	utility = 1
	action = {
		create = event_marker
	}
}
agent_personality = {
	scope = agent.fit(not has(personality))
	utility = 1
	action = {
		create = personality
	}
}
